"use strict";(self.webpackChunkconference=self.webpackChunkconference||[]).push([[646],{7646:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(3433),i=r(9439),c=r(2791),s=r(1087),a=r(7689);var l=r.p+"static/media/follow.b4f2d12bdf350dc85af593be3d7c024a.svg";var o=r.p+"static/media/following.01779a43ccf7f44a7f520d4b96eb6ce0.svg",d=r(9434),f=r(3105),u=r(3959),p=r(9916),h=r(4757);var v=r.p+"static/media/whitecross.61344037d52ae9697008c0cc5b66151f.svg";var x=r.p+"static/media/greycross.361cfc398f7bb4f00f1d5ff1cc414c78.svg",m=r(184),j=function(){var e=(0,d.I0)(),n=(0,d.v9)(h.nt),r=(0,c.useState)(!1),t=(0,i.Z)(r,2),s=t[0],a=t[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"filter",children:[(0,m.jsx)("button",{style:{backgroundColor:n.some((function(e){return!0===e.applied}))?"#2c60e7":"#0000381A"},className:"filter__delete-button",onClick:function(){e((0,h.sn)()),e((0,p.fS)()),e((0,p.N0)())},children:n.some((function(e){return!0===e.applied}))&&(0,m.jsx)("img",{src:v,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",width:"14",height:"14"})||(0,m.jsx)("img",{src:x,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",width:"14",height:"14"})}),n.map((function(n){return(0,m.jsx)("div",{className:"filter__container",children:(0,m.jsx)("div",{onClick:function(){e((0,h.B1)(n.id)),e((0,p.YL)(n.name)),e((0,p.N0)())},className:"filter__container-button",style:{backgroundColor:!0===n.applied?"#2c60e7":"#0000381A",color:!0===n.applied?"white":"#00002E"},children:(0,m.jsx)("div",{children:n.name})},n.id)},n.id)}))]}),(0,m.jsxs)("div",{className:"filter-adaptive",children:[(0,m.jsx)("button",{style:{backgroundColor:n.some((function(e){return!0===e.applied}))?"#2c60e7":"#0000381A"},className:"filter-adaptive__delete-button",onClick:function(){e((0,h.sn)()),e((0,p.fS)()),e((0,p.N0)()),a(!1)},children:n.some((function(e){return!0===e.applied}))&&(0,m.jsx)("img",{src:v,alt:""})||(0,m.jsx)("img",{src:x,alt:""})}),(0,m.jsxs)("div",{className:"filter-adaptive__container-button",children:[(0,m.jsx)("span",{onClick:function(){return a(!s)},style:{backgroundColor:n.some((function(e){return!0===e.applied}))?"#2c60e7":"#0000381A",color:n.some((function(e){return!0===e.applied}))?"white":"#00002E"},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,m.jsx)("ul",{children:s&&n.map((function(n){return(0,m.jsx)("li",{onClick:function(){e((0,h.B1)(n.id)),e((0,p.YL)(n.name)),e((0,p.N0)()),a(!s)},style:{backgroundColor:!0===n.applied?"#2c60e7":"#0000381A",color:!0===n.applied?"white":"#00002E"},children:(0,m.jsx)("div",{children:n.name})},n.id)}))})]})]})]})},g=r(8131),_=r(7664),b=r(183),w=(r(3587),function(){return(0,m.jsxs)("div",{className:"empty",children:[(0,m.jsx)("img",{src:b.Z,alt:"\u043f\u0443\u0441\u0442\u043e",width:"450",height:"350"}),(0,m.jsx)("p",{children:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"})]})}),N=function(e,n){var r=new Date(e.getTime());r.setDate(r.getDate()+1);for(var t=[e,n];r<n;)t.push(new Date(r)),r.setDate(r.getDate()+1);return t.map((function(e){return e.toLocaleDateString()}))},k=function(e){for(var n=e.conferencesPerPage,r=e.totalConferences,t=e.paginate,s=(0,c.useState)(1),a=(0,i.Z)(s,2),l=a[0],o=a[1],f=(0,d.I0)(),u=[],p=1;p<=Math.ceil(r/n);p++)u.push(p);return(0,m.jsx)("div",{className:"pagination",children:(0,m.jsx)("ul",{children:u.map((function(e){return(0,m.jsx)("li",{className:e===l?"active":null,onClick:function(){f(t(e)),o(e)},children:e},e)}))})})},C=function(e){var n=e.data,r=e.keywords,h=e.id,v=(0,d.v9)((function(e){return e.conferences})),x=v.conferences,b=v.isLoading,C=v.currentPage,D=v.conferencesPerPage,L=(0,s.lr)(),y=(0,i.Z)(L,1)[0],S=(0,d.I0)(),P=(0,a.UO)().date,Y=(0,a.UO)().periods,Z=JSON.parse(window.localStorage.getItem("fave"))||[],E=(0,c.useState)(Z),O=(0,i.Z)(E,2),A=O[0],U=O[1],I=[],R=[],B=[],q=[],F=[],J=[],M=[];if("prev4"===n){var T=r.trim().split(" ").filter((function(e){return e.length>2})).join("|"),V=new RegExp(T,"gi");M=x.filter((function(e){return V.test(e.conf_name)||V.test(e.themes)}))}if("search-results"===n){var z=(F=y.get("q")).trim().split(" ").filter((function(e){return e.length>2})).join("|"),G=new RegExp(z,"gi");R=x.filter((function(e){return G.test(e.org_name)||G.test(e.conf_name)||G.test(e.themes)}))}if("date"===n){var H=x.map((function(e){var n=new Date(e.conf_date_begin),r=new Date(e.conf_date_end),t=e.id;return{per:N(n,r),ind:t}})),K=H.filter((function(e){return e.per.includes(P)}));B=K.map((function(e){return e.ind}))}"periods"===n&&(J=Y.split(",").map((function(e){return new Date(e)})),q=N(J[0],J[1]));var Q={all:x,favourites:x.filter((function(e){return!0===e.follow})),searchRes:R,date:x.filter((function(e){return B.includes(e.id)})),collection1:x.filter((function(e){return-1!==e.themes.toLowerCase().indexOf("\u0438\u0441\u0442\u043e\u0440\u0438\u044f".toLowerCase())})),collection2:x.filter((function(e){return-1!==e.themes.toLowerCase().indexOf("\u0444\u0438\u043b\u043e\u043b\u043e\u0433\u0438\u044f".toLowerCase())})),periods:x.filter((function(e){return q.includes(new Date(e.conf_date_begin).toLocaleDateString())||q.includes(new Date(e.conf_date_end).toLocaleDateString())})),prev1:x.filter((function(e){return-1!==e.themes.toLowerCase().indexOf("\u0438\u0441\u0442\u043e\u0440\u0438\u044f".toLowerCase())})).slice(0,2),prev2:x.filter((function(e){return-1!==e.themes.toLowerCase().indexOf("\u0444\u0438\u043b\u043e\u043b\u043e\u0433\u0438\u044f".toLowerCase())})).slice(0,2),prev3:x.slice(0,2),prev4:M.filter((function(e){return e.id!==h})).slice(0,2)};"all"===n&&(I=Q.all),"favourites"===n&&(I=Q.favourites),"search-results"===n&&(I=Q.searchRes),"collection1"===n&&(I=Q.collection1),"collection2"===n&&(I=Q.collection2),"date"===n&&(I=Q.date),"periods"===n&&(I=Q.periods),"prev1"===n&&(I=Q.prev1),"prev2"===n&&(I=Q.prev2),"prev3"===n&&(I=Q.prev3),"prev4"===n&&(I=Q.prev4);var W=C*D,X=W-D,$=I.slice(X,W);return(0,c.useEffect)((function(){S((0,p.c3)(A))}),[S,A]),(0,c.useEffect)((function(){S((0,p.N0)())}),[S]),(0,m.jsxs)("section",{className:"prev1"===n||"prev2"===n||"prev3"===n||"prev4"===n?"conference prev preview-bottom":"conference",children:[(0,m.jsxs)("div",{className:"conference__type",children:["all"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," \u0412\u0441\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"]}),"favourites"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"]}),"search-results"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"}),' \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',F,'"']}),"collection1"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," \u0418\u0441\u0442\u043e\u0440\u0438\u044f"]}),"collection2"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," \u0424\u0438\u043b\u043e\u043b\u043e\u0433\u0438\u044f"]}),"prev1"===n&&(0,m.jsxs)("a",{href:"/collection1",children:[" ",(0,m.jsxs)("p",{children:["\u0418\u0441\u0442\u043e\u0440\u0438\u044f ",(0,m.jsx)("span",{children:">"})]})]}),"prev2"===n&&(0,m.jsx)("a",{href:"/collection2",children:(0,m.jsxs)("p",{children:[" ","\u0424\u0438\u043b\u043e\u043b\u043e\u0433\u0438\u044f ",(0,m.jsx)("span",{children:">"})]})}),"prev3"===n&&(0,m.jsx)("a",{href:"/all",children:(0,m.jsxs)("p",{children:["\u0412\u0441\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438 ",(0,m.jsx)("span",{children:">"})]})}),"prev4"===n&&I.length>0&&(0,m.jsxs)("p",{children:["\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438 ",(0,m.jsx)("span",{children:">"})]}),"date"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," \u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438 \u043d\u0430"," ",(0,m.jsx)("span",{children:P})]}),"periods"===n&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," \u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438",(0,m.jsxs)("span",{children:["c ",J[0].toLocaleDateString("ru",g.Y).slice(0,-7)]})," ",(0,m.jsxs)("span",{children:["\u043f\u043e ",J[1].toLocaleDateString("ru",g.Y).slice(0,-7)]})]})]}),"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&(0,m.jsx)(j,{}),b&&"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&(0,m.jsx)(f.ZP,{})||b&&(0,m.jsx)(f.Lj,{}),!b&&0===I.length&&"favourites"!==n&&"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&(0,m.jsx)(_.default,{}),!b&&0===I.length&&"favourites"===n&&(0,m.jsx)(w,{}),(0,m.jsx)("div",{className:"conference__container",children:!b&&I.length>0&&$.map((function(e){return(0,m.jsxs)(u.ZP,{height:200,offset:100,children:[(0,m.jsxs)("div",{className:"conference__block",children:[(0,m.jsxs)("div",{className:"conference__bg",children:[(0,m.jsxs)("div",{className:"conference__bg-top",children:[!1===e.register&&!1===e.finished&&(0,m.jsx)("span",{style:{backgroundColor:"#939393"},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"})||!1===e.register&&!0===e.finished&&(0,m.jsx)("span",{style:{backgroundColor:"#939393"},children:"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})||!0===e.register&&!1===e.finished&&(0,m.jsx)("span",{children:"\u0418\u0434\u0435\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,m.jsx)("img",{title:!1===e.follow?"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e",src:!1===e.follow?l:o,alt:"follow",onClick:function(){!function(e){A.includes(e)?U(A.filter((function(n){return n!==e}))):U([].concat((0,t.Z)(A),[e]))}(e.id),S((0,p.xe)(e.id))},width:"25",height:"24"})]}),(0,m.jsx)("div",{className:"conference__bg-bottom",children:null===e.conf_date_end&&null===e.conf_date_begin?"\u0434\u0430\u0442\u0430 \u0443\u0442\u043e\u0447\u043d\u044f\u0435\u0442\u0441\u044f":null!==e.conf_date_end?new Date(e.conf_date_begin).toLocaleDateString("ru",g.Y).slice(0,-3)+" - "+new Date(e.conf_date_end).toLocaleDateString("ru",g.Y).slice(0,-3):new Date(e.conf_date_begin).toLocaleDateString("ru",g.Y).slice(0,-3)}),(0,m.jsx)(s.rU,{"aria-label":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438",style:{position:"absolute",bottom:"0",left:"0",right:"50px",top:"0"},to:"/conferences/".concat(e.id)}),(0,m.jsx)(s.rU,{"aria-label":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438",style:{position:"absolute",bottom:"0",left:"0",right:"0",top:"50px"},to:"/conferences/".concat(e.id)})]}),(0,m.jsxs)("div",{className:"conference__tags",children:[(0,m.jsx)("div",{children:e.themes.split(",").map((function(e,n){return(0,m.jsx)("small",{children:e},n)}))}),(0,m.jsx)(s.rU,{to:"/conferences/".concat(e.id),children:(0,m.jsx)("div",{className:"conference__title",children:e.conf_name})})]})]})," "]},e.id)}))}),"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&I.length>20&&(0,m.jsx)(k,{conferencesPerPage:D,totalConferences:I.length,paginate:p.V6})]})}},8131:function(e,n,r){r.d(n,{Y:function(){return t}});var t={year:"numeric",month:"long",day:"numeric"}}}]);
//# sourceMappingURL=646.3befe20a.chunk.js.map