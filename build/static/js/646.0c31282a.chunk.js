"use strict";(self.webpackChunkconference=self.webpackChunkconference||[]).push([[646],{7646:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(3433),s=t(9439),c=t(2791),a=t(1087),i=t(7689);var l=t.p+"static/media/follow.b4f2d12bdf350dc85af593be3d7c024a.svg";var o=t.p+"static/media/following.01779a43ccf7f44a7f520d4b96eb6ce0.svg",d=t(9434),f=t(3105),u=t(9641),p=t(4757);var h=t.p+"static/media/whitecross.61344037d52ae9697008c0cc5b66151f.svg";var v=t.p+"static/media/greycross.361cfc398f7bb4f00f1d5ff1cc414c78.svg",m=t(184),x=function(){var e=(0,d.I0)(),n=(0,d.v9)(p.nt),t=(0,c.useState)(!1),r=(0,s.Z)(t,2),a=r[0],i=r[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"filter",children:[n.some((function(e){return!0===e.applied}))&&(0,m.jsx)("button",{className:n.some((function(e){return!0===e.applied}))?"filter__delete-button applied-hover":"filter__delete-button nonapplied-hover",onClick:function(){e((0,p.sn)()),e((0,u.fS)()),e((0,u.rR)())},children:n.some((function(e){return!0===e.applied}))&&(0,m.jsx)("img",{src:h,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",width:"14",height:"14"})||(0,m.jsx)("img",{src:v,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",width:"14",height:"14"})}),n.map((function(n){return(0,m.jsx)("div",{className:"filter__container",children:(0,m.jsx)("div",{onClick:function(){e((0,p.B1)(n.id)),e((0,u.YL)(n.name)),e((0,u.rR)())},className:!0===n.applied?"filter__container-button applied-hover":"filter__container-button nonapplied-hover",children:(0,m.jsx)("div",{children:n.name})},n.id)},n.id)}))]}),(0,m.jsxs)("div",{className:"filter-adaptive",children:[n.some((function(e){return!0===e.applied}))&&(0,m.jsx)("button",{style:{backgroundColor:n.some((function(e){return!0===e.applied}))?"#2c60e7":"#0000381A"},className:"filter-adaptive__delete-button",onClick:function(){e((0,p.sn)()),e((0,u.fS)()),e((0,u.N0)()),i(!1)},children:n.some((function(e){return!0===e.applied}))&&(0,m.jsx)("img",{src:h,alt:""})||(0,m.jsx)("img",{src:v,alt:""})}),(0,m.jsxs)("div",{className:"filter-adaptive__container-button",children:[(0,m.jsx)("span",{onClick:function(){return i(!a)},className:n.some((function(e){return!0===e.applied}))?"filter__delete-button applied-hover":"filter__delete-button nonapplied-hover",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,m.jsx)("ul",{children:a&&n.map((function(n){return(0,m.jsx)("li",{className:!0===n.applied?"applied-hover":"nonapplied-hover",onClick:function(){e((0,p.B1)(n.id)),e((0,u.YL)(n.name)),e((0,u.N0)()),i(!a)},children:(0,m.jsx)("div",{children:n.name})},n.id)}))})]})]})]})},j=t(8131),_=t(7664),g=t(183),b=(t(3587),function(){return(0,m.jsxs)("div",{className:"empty",children:[(0,m.jsx)("img",{src:g.Z,alt:"\u043f\u0443\u0441\u0442\u043e",width:"450",height:"350"}),(0,m.jsx)("p",{children:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"})]})}),N=function(e,n){var t=new Date(e.getTime());t.setDate(t.getDate()+1);for(var r=[e,n];t<n;)r.push(new Date(t)),t.setDate(t.getDate()+1);return r.map((function(e){return e.toLocaleDateString()}))},w=function(e){e.paginate;var n=e.totalConferences,t=e.currentConference,r=e.addMore,s=(0,d.I0)();return(0,m.jsx)(m.Fragment,{children:t.length!==n&&(0,m.jsx)("div",{className:"showmore",onClick:function(){return s(r(10))},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"})})},k=function(e){var n=e.data,t=e.keywords,p=e.id,h=(0,d.v9)((function(e){return e.conferences})),v=h.conferences,g=h.isLoading,k=h.currentPage,D=h.conferencesPerPage,S=(0,a.lr)(),C=(0,s.Z)(S,1)[0],L=(0,d.I0)(),y=(0,i.UO)(),Y=y.periods,U=y.date,R=JSON.parse(window.localStorage.getItem("fave"))||[],Z=(0,c.useState)(R),E=(0,s.Z)(Z,2),I=E[0],P=E[1],B=[],F=[],M=[],O=[],q=[],A=[],J=[];if("prev4"===n){var T=t.trim().split(" ").filter((function(e){return e.length>2})).join("|"),V=new RegExp(T,"gi");J=v.filter((function(e){return V.test(e.conf_name)||V.test(e.themes)}))}if("search-results"===n){var z=(q=C.get("q")).trim().split(" ").filter((function(e){return e.length>2})).join("|"),G=new RegExp(z,"gi");F=v.filter((function(e){return G.test(e.org_name)||G.test(e.conf_name)||G.test(e.themes)}))}if("date"===n){var H=v.map((function(e){var n=new Date(e.conf_date_begin),t=new Date(e.conf_date_end),r=e.id;return{per:N(n,t),ind:r}})),K=H.filter((function(e){return e.per.includes(U)}));M=K.map((function(e){return e.ind}))}"periods"===n&&(A=Y.split(",").map((function(e){return new Date(e)})),O=N(A[0],A[1]));var Q={all:v,favourites:v.filter((function(e){return!0===e.follow})),searchRes:F,date:v.filter((function(e){return M.includes(e.id)})),collection1:v.filter((function(e){return"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"!==e.conf_status})),collection2:v.filter((function(e){return"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"===e.conf_status})),periods:v.filter((function(e){return O.includes(new Date(e.conf_date_begin).toLocaleDateString())||O.includes(new Date(e.conf_date_end).toLocaleDateString())})),prev1:v.filter((function(e){return"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"!==e.conf_status})).slice(0,2),prev2:v.filter((function(e){return"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"===e.conf_status})).slice(0,2),prev3:v.slice(0,2),prev4:J.filter((function(e){return e.id!==p})).slice(0,2)};"all"===n&&(B=Q.all),"favourites"===n&&(B=Q.favourites),"search-results"===n&&(B=Q.searchRes),"collection1"===n&&(B=Q.collection1),"collection2"===n&&(B=Q.collection2),"date"===n&&(B=Q.date),"periods"===n&&(B=Q.periods),"prev1"===n&&(B=Q.prev1),"prev2"===n&&(B=Q.prev2),"prev3"===n&&(B=Q.prev3),"prev4"===n&&(B=Q.prev4);var W=k*D,X=W-D,$=B.slice(X,W);return(0,c.useEffect)((function(){L((0,u.c3)(I))}),[L,I]),(0,c.useEffect)((function(){"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&L((0,u.N0)())}),[L,n]),(0,m.jsxs)("section",{className:"prev1"===n||"prev2"===n||"prev3"===n||"prev4"===n?"conference prev preview-bottom":"conference",children:[(0,m.jsxs)("div",{className:"conference__type",children:["all"===n&&(0,m.jsx)("div",{className:"back",children:(0,m.jsxs)(a.rU,{to:"/",children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsx)("p",{children:"\u0412\u0441\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"})]})}),"favourites"===n&&(0,m.jsx)("div",{className:"back",children:(0,m.jsxs)(a.rU,{to:"/",children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsx)("p",{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})}),"search-results"===n&&(0,m.jsxs)("div",{className:"back",children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsxs)("p",{children:['\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',q,'"']})]}),"collection1"===n&&(0,m.jsx)("div",{className:"back",children:(0,m.jsxs)(a.rU,{to:"/",children:[" ",(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsx)("p",{children:"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"})]})}),"collection2"===n&&(0,m.jsx)("div",{className:"back",children:(0,m.jsxs)(a.rU,{to:"/",children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsx)("p",{children:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"})]})}),"prev1"===n&&(0,m.jsxs)("a",{href:"/collection1",children:[(0,m.jsx)("p",{className:"forward",children:"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"}),(0,m.jsx)("span",{children:">"})]}),"prev2"===n&&(0,m.jsxs)("a",{href:"/collection2",children:[(0,m.jsx)("p",{className:"forward",children:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"}),(0,m.jsx)("span",{children:">"})]}),"prev3"===n&&(0,m.jsxs)("a",{href:"/all",children:[(0,m.jsx)("p",{className:"forward",children:"\u0412\u0441\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"}),(0,m.jsx)("span",{children:">"})]}),"prev4"===n&&B.length>0&&(0,m.jsxs)("div",{className:"similar",children:[(0,m.jsx)("p",{className:"forward",children:"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438"}),(0,m.jsx)("span",{children:">"})]}),"date"===n&&(0,m.jsx)("div",{className:"back",children:(0,m.jsxs)(a.rU,{to:"/",children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsxs)("p",{children:["\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438 \u043d\u0430 ",(0,m.jsx)("span",{children:U})]})]})}),"periods"===n&&(0,m.jsx)("div",{className:"back",children:(0,m.jsxs)(a.rU,{to:"/",children:[(0,m.jsx)("span",{className:"backarrow",children:"<"})," ",(0,m.jsxs)("p",{children:["\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438 c"," ",A[0].toLocaleDateString("ru",j.Y).slice(0,-7),"\u043f\u043e ",A[1].toLocaleDateString("ru",j.Y).slice(0,-7)]})]})})]}),"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&(0,m.jsx)(x,{}),g&&"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&(0,m.jsx)(f.ZP,{})||g&&(0,m.jsx)(f.Lj,{}),!g&&0===B.length&&"favourites"!==n&&"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&(0,m.jsx)(_.default,{}),!g&&0===B.length&&"favourites"===n&&(0,m.jsx)(b,{}),(0,m.jsx)("div",{className:"conference__container",children:!g&&B.length>0&&$.map((function(e){return(0,m.jsxs)("div",{className:"conference__block",children:[(0,m.jsxs)("div",{className:"conference__bg",children:[(0,m.jsxs)("div",{className:"conference__bg-top",children:[(0,m.jsx)("span",{className:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"===e.conf_status||"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0441\u043a\u043e\u0440\u043e \u043d\u0430\u0447\u043d\u0451\u0442\u0441\u044f"===e.conf_status||"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430\u0447\u0430\u043b\u0430\u0441\u044c"===e.conf_status||"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0438\u0434\u0451\u0442"===e.conf_status||"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"===e.conf_status?"yellow-status":"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430"===e.conf_status||"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u0441\u043a\u043e\u0440\u043e \u043d\u0430\u0447\u043d\u0451\u0442\u0441\u044f"===e.conf_status||"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u0438\u0434\u0451\u0442"===e.conf_status?"green-status":"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430"===e.conf_status?"orange-status":"\u041a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"===e.conf_status?"grey-status":"red-status",children:e.conf_status||"\u0414\u0430\u0442\u0430 \u0443\u0442\u043e\u0447\u043d\u044f\u0435\u0442\u0441\u044f"}),(0,m.jsx)("img",{title:!1===e.follow?"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e",src:!1===e.follow?l:o,alt:"follow",onClick:function(){!function(e){I.includes(e)?P(I.filter((function(n){return n!==e}))):P([].concat((0,r.Z)(I),[e]))}(e.id),L((0,u.xe)(e.id))},width:"25",height:"24"})]}),(0,m.jsx)("div",{className:"conference__bg-middle",children:e.tags.map((function(e){return e.name})).length>0?(0,m.jsxs)("div",{children:["#",e.tags.map((function(e){return e.name}))]}):null}),(0,m.jsx)("div",{className:"conference__bg-bottom",children:null===e.conf_date_end?new Date(e.conf_date_begin).toLocaleDateString("ru",j.Y).slice(0,-3):null===e.conf_date_begin?new Date(e.conf_date_end).toLocaleDateString("ru",j.Y).slice(0,-3):e.conf_date_end!==e.conf_date_begin?new Date(e.conf_date_begin).toLocaleDateString("ru",j.Y).slice(0,-3)+" - "+new Date(e.conf_date_end).toLocaleDateString("ru",j.Y).slice(0,-3):new Date(e.conf_date_begin).toLocaleDateString("ru",j.Y).slice(0,-3)}),(0,m.jsx)("a",{"aria-label":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438",style:{position:"absolute",bottom:"0",left:"0",right:"50px",top:"0"},href:"/conferences/".concat(e.id),children:(0,m.jsx)("span",{})}),(0,m.jsx)("a",{"aria-label":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438",style:{position:"absolute",bottom:"0",left:"0",right:"0",top:"50px"},href:"/conferences/".concat(e.id),children:(0,m.jsx)("span",{})})]}),(0,m.jsxs)("div",{className:"conference__tags",children:[(0,m.jsxs)("div",{className:"conference__tags-container",children:[e.themes.split(",").map((function(e,n){return(0,m.jsx)("small",{children:e},n)})),!0===e.online&&(0,m.jsx)("small",{children:"\u043e\u043d\u043b\u0430\u0439\u043d"}),!0===e.offline&&(0,m.jsx)("small",{children:"\u043e\u0444\u043b\u0430\u0439\u043d"})]}),(0,m.jsx)("a",{href:"/conferences/".concat(e.id),children:(0,m.jsx)("div",{className:"conference__title",children:e.conf_name})})]})]},e.id)}))}),"prev1"!==n&&"prev2"!==n&&"prev3"!==n&&"prev4"!==n&&B.length>20&&(0,m.jsx)(w,{currentConference:$,totalConferences:B.length,paginate:u.V6,addMore:u.le})]})}}}]);
//# sourceMappingURL=646.0c31282a.chunk.js.map